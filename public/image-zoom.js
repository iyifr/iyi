var simpleImageExpand = function(v) { function adEvt(e,t,h) { if (e.addEventListener) e.addEventListener(t,h,false); else if (e.attachEvent) e.attachEvent('on'+t,h); } var fIP = '', v = v || {}; v.zC = v.expandClass || 'expand-enabled'; v.zMw = v.expandMaxWidth || 'initial'; v.zMh = v.expandMaxHeight || 'initial'; v.oO = v.overlayOpacity || '.8'; v.oC = v.overlayColor || 'black'; v.iS = v.iconSize || '24px'; v.iSh = v.hasOwnProperty('iconShow') ? v.iconShow : true; v.iTo = v.iconToggleOnly || false; v.iP = v.iconPos || { right: '5px', bottom: '5px'}; for (var pP in v.iP) fIP += pP + ': ' + v.iP[pP] + ';'; v.iI = v.iconImg ||  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAqVJREFUeNq8VjuLGlEUnhlHNz5BsnkYXdwQNWCxVoFUWlhJCotgI4LiP5AUlpZiEfwBgljZSBohpaCpUgUkIEELH1EkJCH4fo1jzpE7wZjRnXElB84uc+d6vjnnfOe7l95sNjRFUfeJX1DntQX4T3QWAUaj0XU0GnU3Go2Xk8nESNP0nRE0Gs0vu93+MZvNftDr9RQNGT0PBAKvqtXqa3jPwjN3DiCMBc65XK53hULhPYPlwkzIiyWA8PD/HL7EmCT2BQJR0+nUiOjU+Y0jsbdZ/GNQPobjOCXP88zuOsMwPDinUCjWp9QRA1O7fUGQZrP5Yn/zcDhc+/3+z71ebywVAGNvPxL/7Dd/PxO0wWDAx2Kxr+12ey4nEyE2I/UHUC6q3+8jWTanNEsykE6nY4LB4APIVkmG/O5AQrrQC65SqUyF9VAoZEylUk8BTHEykNA0ArRutVqLZDLZDYfDXyKRSEt4V6vVZrhdLhAqw43D4XiLqkEGbUtvtVqtBDlaA53XYKzX6720WCyqXC7Xh379UQ8y4McSmdbr9TfsgdLx8/l8gQTYzgDLrsrl8jeBFAgMWZq63e6yVCr9QGAsp1arVcxms5UYOCODpjw6EgHK+SSRSFxlMplnbrf70Wq1Uvt8vsfFYvEGZpA9OLBiQ3sM0+l0qoUHKOU1EOahzWZTmc1mFGXFUSCpio09i8fjzeVyySALcc3j8WjESLX78Yxs9sDAAtgqn89/H4/HvBRVOAmIfCltMplUQAp5oirXrFbrvXQ6fWUwGBiR0vKS1fs263Q6Mzg5P4kdIzgKYurNyiHCjsCupZ5Jf5EBLxKnlvG21pDYW6AF3lbIUa4ia1tHKdp9FvMjezAWR2IvUOsud69bwhkvtXeH9uxdt1r0/7pA/hZgACO4VuIsr37kAAAAAElFTkSuQmCC'; var sy = document.createElement('style'), cnt = document.createElement('div'), icon = document.createElement('i'); cnt.className = 'expand-container'; icon.className = 'expand-icon';  var css = document.createTextNode('.expand-container { display: block !important; position: relative !important; text-decoration: none; }\n ' + '#expand-overlay { z-index: 990; position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: none; background-color:' + v.oC + '; text-align: center; -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=' + (v.oO*10) + ')";' + 'filter: alpha(opacity=' + (v.oO*10) + '); -moz-opacity: ' + v.oO + '; -khtml-opacity: ' + v.oO + '; opacity: ' + v.oO + ';} \n' + '#expand-overlay img { top: 50%; width: initial; height: initial; position: relative; max-width:' + v.zMw + '; max-height: ' + v.zMh + '; }\n' + '.expand-container i { display: block; position: absolute; height: ' + v.iS + '; width: ' + v.iS + '; ' + 'background-image: url(' + v.iI + ');' + fIP + '}'); sy.appendChild(css); var o = { e: document.createElement('div'), i: function() { o.st = 0; o.e.id = 'expand-overlay'; document.body.insertBefore(o.e, document.body.firstChild); adEvt(o.e, 'click', o.h); }, s: function(i) { var i = i.cloneNode(); o.st = 1; o.e.appendChild(i); i.onload = function() { i.style.marginTop = - (i.clientHeight/2) +'px'; }; o.e.style.display = 'block'; }, h: function() { o.st = 0; o.e.innerHTML = ''; o.e.style.cssText = ''; } }, bE = function(e) { if (e.className === 'expand-container' && !v.iTo) return e; else if ((e.className === v.zC && !v.iTo) || e.className === 'expand-icon') return e.parentNode; }, z = { b: function() { var zI = document.getElementsByTagName('img'); for (var i = zI.length; i--;) { if (zI[i].className === v.zC && zI[i].getAttribute('data-bound') !== 'true') z.i(zI[i]); } }, i: function(e) { var t = e.target || e.srcElement || e, c = cnt.cloneNode(); t.setAttribute('data-bound', 'true'); t.parentNode.insertBefore(c, t); c.appendChild(t); c.style.width = t.clientWidth +'px'; c.style.height = t.clientHeight +'px'; if (v.iSh) c.appendChild(icon.cloneNode()); }, u: function(e) { var t = bE(e.target || e.srcElement), i; if (t) { i = t.getElementsByTagName('img')[0]; if (!o.hasOwnProperty('st')) o.i(); if (!o.st) o.s(i); else o.h(); } } }; document.getElementsByTagName('head')[0].appendChild(sy); adEvt(document.body, 'click', z.u); z.b(); if (v.dynamicLoad) { setInterval(function() { if (o.st !== 1) z.b(); }, v.dynamicInterval || 200); } };